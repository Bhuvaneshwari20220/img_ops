packages:
  yum:
    gcc: []
    openssl-devel: []
    bzip2-devel: []
    libffi-devel: []
    zlib-devel: []
    make: []

commands:
  install_python:
    command: |
      cd /opt
      wget https://www.python.org/ftp/python/3.9.7/Python-3.9.7.tgz
      tar xzf Python-3.9.7.tgz
      cd Python-3.9.7
      ./configure --enable-optimizations
      make altinstall
      ln -s /usr/local/bin/python3.9 /usr/bin/python3.9

container_commands:
  01_set_python_version:
    command: |
      alternatives --install /usr/bin/python3 python3 /usr/local/bin/python3.9 1
      alternatives --set python3 /usr/local/bin/python3.9